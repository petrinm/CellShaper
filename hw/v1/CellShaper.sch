EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 7
Title "CellShaper"
Date ""
Rev "v1"
Comp "petrinm"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 8550 1100 1750 1100
U 5E7FF9E6
F0 "Cell_A" 50
F1 "cell.sch" 50
F2 "DISCHARGE_CONTROL" I L 8550 1450 50 
F3 "DISCHARGE_CURRENT" O L 8550 1750 50 
F4 "CHARGE_CURRENT" O L 8550 1650 50 
F5 "CHARGE_CONTROL" I L 8550 1350 50 
F6 "CELL_VOLTAGE" O L 8550 1550 50 
F7 "CHARGE_PWR" I L 8550 1250 50 
F8 "LED_DISCHARGE" I L 8550 2050 50 
F9 "LED_CHARGE" I L 8550 1950 50 
F10 "CELL_TEMPERATURE" O L 8550 1850 50 
$EndSheet
$Sheet
S 8550 3850 1750 1100
U 5E86D19E
F0 "Cell_C" 50
F1 "cell.sch" 50
F2 "DISCHARGE_CONTROL" I L 8550 4200 50 
F3 "DISCHARGE_CURRENT" O L 8550 4500 50 
F4 "CHARGE_CURRENT" O L 8550 4400 50 
F5 "CHARGE_CONTROL" I L 8550 4100 50 
F6 "CELL_VOLTAGE" O L 8550 4300 50 
F7 "CHARGE_PWR" I L 8550 4000 50 
F8 "LED_DISCHARGE" I L 8550 4800 50 
F9 "LED_CHARGE" I L 8550 4700 50 
F10 "CELL_TEMPERATURE" O L 8550 4600 50 
$EndSheet
$Sheet
S 8550 5200 1750 1100
U 5E86D39E
F0 "Cell_D" 50
F1 "cell.sch" 50
F2 "DISCHARGE_CONTROL" I L 8550 5550 50 
F3 "DISCHARGE_CURRENT" O L 8550 5750 50 
F4 "CHARGE_CURRENT" O L 8550 5850 50 
F5 "CHARGE_CONTROL" I L 8550 5450 50 
F6 "CELL_VOLTAGE" O L 8550 5650 50 
F7 "CHARGE_PWR" I L 8550 5350 50 
F8 "LED_DISCHARGE" I L 8550 6150 50 
F9 "LED_CHARGE" I L 8550 6050 50 
F10 "CELL_TEMPERATURE" O L 8550 5950 50 
$EndSheet
Wire Wire Line
	8350 1250 8550 1250
Wire Wire Line
	8550 2600 8350 2600
$Comp
L Mechanical:MountingHole_Pad H1
U 1 1 5E926306
P 5000 7150
F 0 "H1" H 4950 7350 50  0000 L CNN
F 1 "M3 hole" H 5100 7108 50  0001 L CNN
F 2 "MountingHole:MountingHole_3.2mm_M3_Pad" H 5000 7150 50  0001 C CNN
F 3 "~" H 5000 7150 50  0001 C CNN
	1    5000 7150
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0108
U 1 1 5E926DBC
P 5000 7250
F 0 "#PWR0108" H 5000 7000 50  0001 C CNN
F 1 "GND" H 5005 7077 50  0000 C CNN
F 2 "" H 5000 7250 50  0001 C CNN
F 3 "" H 5000 7250 50  0001 C CNN
	1    5000 7250
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole_Pad H2
U 1 1 5E929632
P 5200 7150
F 0 "H2" H 5150 7350 50  0000 L CNN
F 1 "M3 hole" H 5300 7108 50  0001 L CNN
F 2 "MountingHole:MountingHole_3.2mm_M3_Pad" H 5200 7150 50  0001 C CNN
F 3 "~" H 5200 7150 50  0001 C CNN
	1    5200 7150
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole_Pad H3
U 1 1 5E92991E
P 5400 7150
F 0 "H3" H 5350 7350 50  0000 L CNN
F 1 "M3 hole" H 5500 7108 50  0001 L CNN
F 2 "MountingHole:MountingHole_3.2mm_M3_Pad" H 5400 7150 50  0001 C CNN
F 3 "~" H 5400 7150 50  0001 C CNN
	1    5400 7150
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole_Pad H4
U 1 1 5E929A8C
P 5600 7150
F 0 "H4" H 5550 7350 50  0000 L CNN
F 1 "M3 hole" H 5700 7108 50  0001 L CNN
F 2 "MountingHole:MountingHole_3.2mm_M3_Pad" H 5600 7150 50  0001 C CNN
F 3 "~" H 5600 7150 50  0001 C CNN
	1    5600 7150
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0109
U 1 1 5E929CE7
P 5200 7250
F 0 "#PWR0109" H 5200 7000 50  0001 C CNN
F 1 "GND" H 5205 7077 50  0000 C CNN
F 2 "" H 5200 7250 50  0001 C CNN
F 3 "" H 5200 7250 50  0001 C CNN
	1    5200 7250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0110
U 1 1 5E929E85
P 5400 7250
F 0 "#PWR0110" H 5400 7000 50  0001 C CNN
F 1 "GND" H 5405 7077 50  0000 C CNN
F 2 "" H 5400 7250 50  0001 C CNN
F 3 "" H 5400 7250 50  0001 C CNN
	1    5400 7250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0111
U 1 1 5E92A041
P 5600 7250
F 0 "#PWR0111" H 5600 7000 50  0001 C CNN
F 1 "GND" H 5605 7077 50  0000 C CNN
F 2 "" H 5600 7250 50  0001 C CNN
F 3 "" H 5600 7250 50  0001 C CNN
	1    5600 7250
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:Heatsink_Pad HS1
U 1 1 5E9F6BC0
P 1900 7000
F 0 "HS1" H 2041 7039 50  0000 L CNN
F 1 "Wakefield-Vette 693-100" H 2041 6948 50  0000 L CNN
F 2 "CellShaper:Wakefield-vette_693-100" H 1912 6950 50  0001 C CNN
F 3 "~" H 1912 6950 50  0001 C CNN
	1    1900 7000
	1    0    0    -1  
$EndComp
Text Notes 2300 7350 0    50   ~ 0
Wakefield-vette 690 series heatsink
Text Notes 5150 3950 0    50   ~ 0
STM32 here:\n- 19 ADC channels\n- 8 LEDs\n- 4 PWMs\n- USB-device\n- DAC SPI
$Comp
L Mechanical:MountingHole_Pad H5
U 1 1 5F00BDA8
P 5800 7150
F 0 "H5" H 5750 7350 50  0000 L CNN
F 1 "M3 hole" H 5900 7108 50  0001 L CNN
F 2 "MountingHole:MountingHole_3.2mm_M3_Pad" H 5800 7150 50  0001 C CNN
F 3 "~" H 5800 7150 50  0001 C CNN
	1    5800 7150
	1    0    0    -1  
$EndComp
$Comp
L Mechanical:MountingHole_Pad H6
U 1 1 5F00BFD2
P 6000 7150
F 0 "H6" H 5950 7350 50  0000 L CNN
F 1 "M3 hole" H 6100 7108 50  0001 L CNN
F 2 "MountingHole:MountingHole_3.2mm_M3_Pad" H 6000 7150 50  0001 C CNN
F 3 "~" H 6000 7150 50  0001 C CNN
	1    6000 7150
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0112
U 1 1 5F00C100
P 5800 7250
F 0 "#PWR0112" H 5800 7000 50  0001 C CNN
F 1 "GND" H 5805 7077 50  0000 C CNN
F 2 "" H 5800 7250 50  0001 C CNN
F 3 "" H 5800 7250 50  0001 C CNN
	1    5800 7250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0113
U 1 1 5F00C2A7
P 6000 7250
F 0 "#PWR0113" H 6000 7000 50  0001 C CNN
F 1 "GND" H 6005 7077 50  0000 C CNN
F 2 "" H 6000 7250 50  0001 C CNN
F 3 "" H 6000 7250 50  0001 C CNN
	1    6000 7250
	1    0    0    -1  
$EndComp
Text Notes 8400 6850 0    50   ~ 0
TODO: Optional fan connector?
Wire Wire Line
	7050 1350 8550 1350
Wire Wire Line
	8550 1450 7050 1450
Wire Wire Line
	8550 1550 7050 1550
Wire Wire Line
	7050 1650 8550 1650
Wire Wire Line
	8550 1750 7050 1750
Wire Wire Line
	7050 1850 8550 1850
Wire Wire Line
	8550 1950 7050 1950
Wire Wire Line
	7050 2050 8550 2050
$Sheet
S 8550 2450 1750 1100
U 5E86CFD4
F0 "Cell_B" 50
F1 "cell.sch" 50
F2 "DISCHARGE_CONTROL" I L 8550 2800 50 
F3 "DISCHARGE_CURRENT" O L 8550 3100 50 
F4 "CHARGE_CURRENT" O L 8550 3000 50 
F5 "CHARGE_CONTROL" I L 8550 2700 50 
F6 "CELL_VOLTAGE" O L 8550 2900 50 
F7 "CHARGE_PWR" I L 8550 2600 50 
F8 "LED_DISCHARGE" I L 8550 3400 50 
F9 "LED_CHARGE" I L 8550 3300 50 
F10 "CELL_TEMPERATURE" O L 8550 3200 50 
$EndSheet
Wire Wire Line
	8550 2700 7050 2700
Wire Wire Line
	7050 2800 8550 2800
Wire Wire Line
	8550 2900 7050 2900
Wire Wire Line
	7050 3000 8550 3000
Wire Wire Line
	8550 3100 7050 3100
Wire Wire Line
	7050 3200 8550 3200
Wire Wire Line
	8550 3300 7050 3300
Wire Wire Line
	7050 3400 8550 3400
Wire Wire Line
	8550 4100 7050 4100
Wire Wire Line
	7050 4200 8550 4200
Wire Wire Line
	8550 4300 7050 4300
Wire Wire Line
	7050 4400 8550 4400
Wire Wire Line
	7050 4500 8550 4500
Wire Wire Line
	8550 4600 7050 4600
Wire Wire Line
	7050 4700 8550 4700
Wire Wire Line
	8550 4800 7050 4800
Wire Wire Line
	8550 6050 7050 6050
Wire Wire Line
	7050 5950 8550 5950
Wire Wire Line
	7050 5750 8550 5750
Wire Wire Line
	8550 5650 7050 5650
Wire Wire Line
	7050 5550 8550 5550
Wire Wire Line
	8550 5450 7050 5450
Wire Wire Line
	7050 5850 8550 5850
Wire Wire Line
	7050 6150 8550 6150
Wire Wire Line
	8350 5350 8550 5350
Wire Wire Line
	8550 4000 8350 4000
Text Notes 5250 6850 0    50   ~ 0
Mounting holes
Connection ~ 8350 4000
Wire Wire Line
	8350 2600 8350 4000
Connection ~ 8350 2600
Wire Wire Line
	8350 4000 8350 5350
Text Notes 9500 1700 0    118  ~ 24
Cell A
Text Notes 9500 3050 0    118  ~ 24
Cell B
Text Notes 9500 5800 0    118  ~ 24
Cell D
Text Notes 9500 4450 0    118  ~ 24
Cell C
Text Label 3000 850  0    50   ~ 0
CHARGE_POWER
$Comp
L power:GNDPWR #PWR0118
U 1 1 5F391636
P 1200 6700
F 0 "#PWR0118" H 1200 6500 50  0001 C CNN
F 1 "GNDPWR" H 1204 6546 50  0000 C CNN
F 2 "" H 1200 6650 50  0001 C CNN
F 3 "" H 1200 6650 50  0001 C CNN
	1    1200 6700
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0119
U 1 1 5F391EDC
P 900 6700
F 0 "#PWR0119" H 900 6450 50  0001 C CNN
F 1 "GND" H 905 6527 50  0000 C CNN
F 2 "" H 900 6700 50  0001 C CNN
F 3 "" H 900 6700 50  0001 C CNN
	1    900  6700
	1    0    0    -1  
$EndComp
$Comp
L Device:Net-Tie_2 NT1
U 1 1 5F392576
P 1050 6650
F 0 "NT1" H 1050 6831 50  0000 C CNN
F 1 "Net-Tie_2" H 1050 6740 50  0000 C CNN
F 2 "NetTie:NetTie-2_SMD_Pad2.0mm" H 1050 6650 50  0001 C CNN
F 3 "~" H 1050 6650 50  0001 C CNN
	1    1050 6650
	1    0    0    -1  
$EndComp
Wire Wire Line
	1200 6700 1200 6650
Wire Wire Line
	1200 6650 1150 6650
Wire Wire Line
	900  6700 900  6650
Wire Wire Line
	900  6650 950  6650
$Comp
L power:GND #PWR0101
U 1 1 5F53CCE5
P 900 7250
F 0 "#PWR0101" H 900 7000 50  0001 C CNN
F 1 "GND" H 905 7077 50  0000 C CNN
F 2 "" H 900 7250 50  0001 C CNN
F 3 "" H 900 7250 50  0001 C CNN
	1    900  7250
	1    0    0    -1  
$EndComp
Wire Wire Line
	900  7250 900  7200
$Comp
L power:GNDA #PWR0102
U 1 1 5F54446F
P 1200 7250
F 0 "#PWR0102" H 1200 7000 50  0001 C CNN
F 1 "GNDA" H 1205 7077 50  0000 C CNN
F 2 "" H 1200 7250 50  0001 C CNN
F 3 "" H 1200 7250 50  0001 C CNN
	1    1200 7250
	1    0    0    -1  
$EndComp
Wire Wire Line
	1200 7250 1200 7200
$Sheet
S 1200 1100 1400 1750
U 5F017F08
F0 "Power" 50
F1 "power.sch" 50
F2 "DP" B R 2600 1900 50 
F3 "DN" B R 2600 2000 50 
F4 "CHARGE_POWER" O R 2600 1250 50 
F5 "SCL" I R 2600 2400 50 
F6 "SDA" B R 2600 2300 50 
F7 "CONTROLLER_POWER" O R 2600 1400 50 
F8 "~INT" B R 2600 2500 50 
F9 "CHARGE_VOLTAGE" O R 2600 1550 50 
F10 "EN_POWER" I R 2600 1650 50 
$EndSheet
Wire Wire Line
	2600 1550 4150 1550
Wire Wire Line
	4150 1400 2600 1400
Wire Wire Line
	2600 2300 4150 2300
Wire Wire Line
	4150 2000 2600 2000
Wire Wire Line
	2600 1900 4150 1900
Wire Wire Line
	4150 2500 2600 2500
Wire Wire Line
	2600 2400 4150 2400
$Sheet
S 4150 1100 2900 5200
U 5F07E3EE
F0 "MCU" 50
F1 "mcu.sch" 50
F2 "CONTROLLER_POWER" I L 4150 1400 50 
F3 "CELL_A_CHARGE" O R 7050 1350 50 
F4 "CELL_B_CHARGE" O R 7050 2700 50 
F5 "CELL_C_CHARGE" O R 7050 4100 50 
F6 "CELL_D_CHARGE" I R 7050 5450 50 
F7 "CELL_A_VOLTAGE" I R 7050 1550 50 
F8 "CELL_B_VOLTAGE" I R 7050 2900 50 
F9 "CELL_C_VOLTAGE" I R 7050 4300 50 
F10 "CELL_D_VOLTAGE" I R 7050 5650 50 
F11 "CELL_A_CHARGE_CURRENT" I R 7050 1650 50 
F12 "CELL_B_CHARGE_CURRENT" I R 7050 3000 50 
F13 "CELL_C_CHARGE_CURRENT" I R 7050 4400 50 
F14 "CELL_D_CHARGE_CURRENT" I R 7050 5750 50 
F15 "CELL_A_DISCHARGE_CURRENT" I R 7050 1750 50 
F16 "CELL_B_DISCHARGE_CURRENT" I R 7050 3100 50 
F17 "CELL_C_DISCHARGE_CURRENT" I R 7050 4500 50 
F18 "CELL_D_DISCHARGE_CURRENT" I R 7050 5850 50 
F19 "CELL_A_TEMPERATURE" I R 7050 1850 50 
F20 "CELL_B_TEMPERATURE" I R 7050 3200 50 
F21 "CELL_C_TEMPERATURE" I R 7050 4600 50 
F22 "CELL_D_TEMPERATURE" I R 7050 5950 50 
F23 "CELL_A_CHARGE_LED" O R 7050 1950 50 
F24 "CELL_B_CHARGE_LED" O R 7050 3300 50 
F25 "CELL_C_CHARGE_LED" O R 7050 4700 50 
F26 "CELL_D_CHARGE_LED" O R 7050 6050 50 
F27 "CELL_A_DISCHARGE_LED" O R 7050 2050 50 
F28 "CELL_B_DISCHARGE_LED" O R 7050 3400 50 
F29 "CELL_C_DISCHARGE_LED" O R 7050 4800 50 
F30 "CELL_D_DISCHARGE_LED" O R 7050 6150 50 
F31 "I2C_SDA" B L 4150 2300 50 
F32 "I2C_SCL" O L 4150 2400 50 
F33 "USB_DP" B L 4150 1900 50 
F34 "USB_DN" B L 4150 2000 50 
F35 "CELL_A_DISCHARGE" O R 7050 1450 50 
F36 "CELL_B_DISCHARGE" O R 7050 2800 50 
F37 "CELL_C_DISCHARGE" O R 7050 4200 50 
F38 "CELL_D_DISCHARGE" O R 7050 5550 50 
F39 "I2C_~INT" I L 4150 2500 50 
F40 "CHARGE_VOLTAGE" I L 4150 1550 50 
F41 "EN_POWER" O L 4150 1650 50 
$EndSheet
Text Notes 5300 3200 0    118  ~ 24
MCU
Text Notes 1650 2000 0    118  ~ 24
Power
Wire Wire Line
	2850 1250 2850 850 
Wire Wire Line
	2850 850  8350 850 
Wire Wire Line
	2600 1250 2850 1250
Wire Wire Line
	8350 1250 8350 2600
Connection ~ 8350 1250
Wire Wire Line
	8350 850  8350 1250
Wire Wire Line
	900  7200 1200 7200
$Comp
L Graphic:Logo_Open_Hardware_Small LOGO1
U 1 1 5F917279
P 10300 6850
F 0 "LOGO1" H 10300 7125 50  0001 C CNN
F 1 "Logo_Open_Hardware_Small" H 10300 6625 50  0001 C CNN
F 2 "Symbol:OSHW-Logo_7.5x8mm_Copper" H 10300 6850 50  0001 C CNN
F 3 "~" H 10300 6850 50  0001 C CNN
	1    10300 6850
	1    0    0    -1  
$EndComp
$Comp
L Graphic:Logo_Open_Hardware_Small LOGO2
U 1 1 5F9188A7
P 10900 6850
F 0 "LOGO2" H 10900 7125 50  0001 C CNN
F 1 "Logo_Open_Hardware_Small" H 10900 6625 50  0001 C CNN
F 2 "Symbol:OSHW-Logo_7.5x8mm_SilkScreen" H 10900 6850 50  0001 C CNN
F 3 "~" H 10900 6850 50  0001 C CNN
	1    10900 6850
	1    0    0    -1  
$EndComp
$Comp
L power:GNDPWR #PWR0114
U 1 1 5F3F0B4D
P 1900 7100
F 0 "#PWR0114" H 1900 6900 50  0001 C CNN
F 1 "GNDPWR" H 1904 6946 50  0000 C CNN
F 2 "" H 1900 7050 50  0001 C CNN
F 3 "" H 1900 7050 50  0001 C CNN
	1    1900 7100
	1    0    0    -1  
$EndComp
Wire Wire Line
	4150 1650 2600 1650
$EndSCHEMATC
